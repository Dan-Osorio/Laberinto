<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ontología Avanzada: El Laberinto de la Soledad</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style type="text/css">
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #0d1117; /* Fondo oscuro elegante */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }
        #grafo-canvas {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
        }
        /* Estilos del Título */
        #titulo {
            position: absolute;
            top: 25px;
            left: 25px;
            color: rgba(255,255,255,0.9);
            z-index: 10;
            pointer-events: none;
            text-shadow: 0px 2px 4px rgba(0,0,0,0.8);
        }
        #titulo h1 { margin: 0; font-size: 26px; font-weight: 300; letter-spacing: 2px;}
        #titulo p { margin: 5px 0 0 0; font-size: 13px; color: #8b9eb0;}

        /* Estilos de la Leyenda de Colores */
        #leyenda {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: rgba(15, 20, 25, 0.85);
            padding: 20px;
            border-radius: 10px;
            color: #d1d5db;
            z-index: 10;
            border: 1px solid #30363d;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        #leyenda h3 {
            margin: 0 0 15px 0;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #ffffff;
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
        }
        .item-leyenda {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 13px;
            cursor: default;
        }
        .item-leyenda:last-child { margin-bottom: 0; }
        .color-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 12px;
            border: 1px solid rgba(255,255,255,0.2);
        }
    </style>
</head>
<body>

<div id="titulo">
    <h1>EL LABERINTO DE LA SOLEDAD</h1>
    <p>Red Ontológica | Octavio Paz</p>
</div>

<div id="leyenda">
    <h3>Ejes Temáticos</h3>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #d32f2f; box-shadow: 0 0 8px #d32f2f;"></span> Núcleo Existencial
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #7b1fa2; box-shadow: 0 0 8px #7b1fa2;"></span> El Pachuco (Desarraigo)
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #1976d2; box-shadow: 0 0 8px #1976d2;"></span> Máscaras Mexicanas
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #fbc02d; box-shadow: 0 0 8px #fbc02d;"></span> La Fiesta y La Muerte
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #e64a19; box-shadow: 0 0 8px #e64a19;"></span> Hijos de la Malinche (Trauma)
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #388e3c; box-shadow: 0 0 8px #388e3c;"></span> Evolución Histórica
    </div>
    <div class="item-leyenda">
        <span class="color-dot" style="background-color: #0097a7; box-shadow: 0 0 8px #0097a7;"></span> Inteligencia y Redención
    </div>
</div>

<div id="grafo-canvas"></div>

<script type="text/javascript">
    // 1. DEFINICIÓN DE NODOS
    var nodes = new vis.DataSet([
        // Núcleo
        { id: 1, label: 'El Mexicano', value: 35, group: 'nucleo' },
        { id: 2, label: 'La Soledad', value: 35, group: 'nucleo' },
        { id: 50, label: 'El Laberinto\n(La Existencia)', value: 25, group: 'nucleo' },

        // Cap 1: El Pachuco
        { id: 3, label: 'El Pachuco', value: 18, group: 'pachuco' },
        { id: 4, label: 'Desarraigo', value: 12, group: 'pachuco' },
        { id: 5, label: 'La Frontera', value: 10, group: 'pachuco' },
        { id: 6, label: 'Norteamérica\n(Pragmatismo)', value: 12, group: 'pachuco' },
        { id: 7, label: 'Rebeldía Estética', value: 9, group: 'pachuco' },
        { id: 8, label: 'Búsqueda de\nIdentidad', value: 14, group: 'pachuco' },

        // Cap 2: Máscaras
        { id: 9, label: 'Máscaras', value: 20, group: 'mascaras' },
        { id: 10, label: 'Hermetismo', value: 16, group: 'mascaras' },
        { id: 11, label: 'Machismo', value: 15, group: 'mascaras' },
        { id: 12, label: 'El Pudor', value: 10, group: 'mascaras' },
        { id: 13, label: 'Las Formas\n(Cortesía)', value: 12, group: 'mascaras' },
        { id: 14, label: 'El Ninguneo', value: 14, group: 'mascaras' },
        { id: 15, label: 'Simulación', value: 13, group: 'mascaras' },
        { id: 16, label: 'Mentira', value: 9, group: 'mascaras' },
        { id: 17, label: 'Resignación', value: 10, group: 'mascaras' },

        // Cap 3: Fiesta y Muerte
        { id: 18, label: 'La Fiesta', value: 20, group: 'fiesta' },
        { id: 19, label: 'Caos / Ruptura', value: 12, group: 'fiesta' },
        { id: 20, label: 'Despilfarro', value: 10, group: 'fiesta' },
        { id: 21, label: 'Comunión\nEfímera', value: 15, group: 'fiesta' },
        { id: 22, label: 'La Muerte', value: 22, group: 'fiesta' },
        { id: 23, label: 'Desprecio a\nla Vida', value: 12, group: 'fiesta' },
        { id: 24, label: 'Fascinación / Burla', value: 11, group: 'fiesta' },

        // Cap 4: La Malinche
        { id: 25, label: 'La Malinche', value: 20, group: 'malinche' },
        { id: 26, label: 'La Chingada\n(La Madre Violada)', value: 22, group: 'malinche' },
        { id: 27, label: 'El Chingón', value: 16, group: 'malinche' },
        { id: 28, label: 'Violencia', value: 14, group: 'malinche' },
        { id: 29, label: 'Origen\nTraumático', value: 16, group: 'malinche' },
        { id: 30, label: 'Orfandad', value: 18, group: 'malinche' },

        // Cap 5 y 6: Historia
        { id: 31, label: 'La Historia', value: 18, group: 'historia' },
        { id: 32, label: 'Culturas\nPrecolombinas', value: 13, group: 'historia' },
        { id: 33, label: 'Sacrificio Cósmico', value: 11, group: 'historia' },
        { id: 34, label: 'La Conquista', value: 17, group: 'historia' },
        { id: 35, label: 'Catolicismo', value: 14, group: 'historia' },
        { id: 36, label: 'Nueva España', value: 11, group: 'historia' },
        { id: 37, label: 'La Independencia', value: 12, group: 'historia' },
        { id: 38, label: 'La Reforma', value: 12, group: 'historia' },
        { id: 39, label: 'La Revolución', value: 19, group: 'historia' },
        { id: 40, label: 'Emiliano Zapata', value: 12, group: 'historia' },
        { id: 41, label: 'Retorno a\nla Tierra', value: 10, group: 'historia' },

        // Cap 7 y 8: Filosofía y Días Actuales
        { id: 42, label: 'Inteligencia\nMexicana', value: 12, group: 'filosofia' },
        { id: 43, label: 'El Mito', value: 11, group: 'filosofia' },
        { id: 44, label: 'Subdesarrollo', value: 9, group: 'filosofia' },
        { id: 45, label: 'Comunión\nVerdadera', value: 16, group: 'filosofia' },
        { id: 46, label: 'Redención', value: 14, group: 'filosofia' },
        { id: 47, label: 'Universalidad', value: 12, group: 'filosofia' },
        { id: 48, label: 'Positivismo', value: 8, group: 'filosofia' },
        { id: 49, label: 'Promesas\nIncumplidas', value: 10, group: 'filosofia' }
    ]);

    // 2. DEFINICIÓN DE ARISTAS
    var edges = new vis.DataSet([
        { from: 1, to: 2, value: 15 }, { from: 1, to: 50, value: 10 }, { from: 2, to: 50, value: 12 },
        { from: 1, to: 3, value: 6 }, { from: 1, to: 9, value: 12 }, { from: 1, to: 18, value: 10 },
        { from: 1, to: 25, value: 12 }, { from: 1, to: 31, value: 10 },
        { from: 3, to: 4, value: 8 }, { from: 3, to: 5, value: 7 }, { from: 5, to: 6, value: 6 },
        { from: 3, to: 7, value: 5 }, { from: 3, to: 8, value: 9 }, { from: 4, to: 2, value: 8 },
        { from: 9, to: 10, value: 10 }, { from: 9, to: 11, value: 9 }, { from: 9, to: 12, value: 7 },
        { from: 9, to: 13, value: 8 }, { from: 10, to: 2, value: 12 }, { from: 14, to: 10, value: 6 },
        { from: 9, to: 15, value: 7 }, { from: 15, to: 16, value: 5 }, { from: 17, to: 10, value: 6 },
        { from: 11, to: 27, value: 8 },
        { from: 18, to: 19, value: 7 }, { from: 18, to: 20, value: 6 }, { from: 18, to: 21, value: 9 },
        { from: 21, to: 2, value: 8, dashes: true }, { from: 1, to: 22, value: 11 }, { from: 22, to: 23, value: 8 },
        { from: 22, to: 24, value: 7 }, { from: 18, to: 22, value: 8 },
        { from: 25, to: 26, value: 15 }, { from: 26, to: 27, value: 10 }, { from: 26, to: 29, value: 12 },
        { from: 27, to: 28, value: 9 }, { from: 29, to: 30, value: 14 }, { from: 30, to: 2, value: 15 },
        { from: 34, to: 25, value: 12 },
        { from: 31, to: 32, value: 8 }, { from: 32, to: 33, value: 7 }, { from: 31, to: 34, value: 12 },
        { from: 34, to: 35, value: 9 }, { from: 35, to: 36, value: 8 }, { from: 36, to: 37, value: 7 },
        { from: 37, to: 38, value: 7 }, { from: 38, to: 39, value: 10 }, { from: 39, to: 40, value: 8 },
        { from: 40, to: 41, value: 7 }, { from: 39, to: 49, value: 6 },
        { from: 42, to: 48, value: 5 }, { from: 42, to: 8, value: 7 }, { from: 2, to: 45, value: 10, dashes: true },
        { from: 45, to: 46, value: 8 }, { from: 46, to: 47, value: 9 }, { from: 1, to: 47, value: 6 },
        { from: 49, to: 44, value: 6 }, { from: 44, to: 43, value: 5 }
    ]);

    // 3. CONFIGURACIÓN
    var container = document.getElementById('grafo-canvas');
    var data = { nodes: nodes, edges: edges };
    
    var options = {
        nodes: {
            shape: 'dot',
            font: { size: 14, face: 'Tahoma', color: '#ffffff', strokeWidth: 2, strokeColor: '#000000' },
            shadow: { enabled: true, color: 'rgba(255,255,255,0.1)', size: 10, x: 0, y: 0 },
            borderWidth: 2, borderWidthSelected: 4
        },
        edges: {
            width: 1.5,
            color: { color: '#3a4a5a', highlight: '#8cb1d9', hover: '#8cb1d9', opacity: 0.6 },
            smooth: { type: 'curvedCW', roundness: 0.2 },
            arrows: { to: { enabled: true, scaleFactor: 0.5 } }
        },
        groups: {
            nucleo:   { color: { background: '#d32f2f', border: '#b71c1c' } },
            pachuco:  { color: { background: '#7b1fa2', border: '#4a148c' } },
            mascaras: { color: { background: '#1976d2', border: '#0d47a1' } },
            fiesta:   { color: { background: '#fbc02d', border: '#f57f17' }, font: { color: '#ffffff' } },
            malinche: { color: { background: '#e64a19', border: '#bf360c' } },
            historia: { color: { background: '#388e3c', border: '#1b5e20' } },
            filosofia:{ color: { background: '#0097a7', border: '#006064' } }
        },
        physics: {
            forceAtlas2Based: { gravitationalConstant: -150, centralGravity: 0.015, springLength: 120, springConstant: 0.04 },
            maxVelocity: 50, solver: 'forceAtlas2Based', timestep: 0.35, stabilization: { iterations: 150 }
        },
        interaction: { hover: true, tooltipDelay: 200, zoomView: true, dragView: true }
    };
    
    var network = new vis.Network(container, data, options);

    network.once("stabilizationIterationsDone", function() {
        network.fit({ animation: { duration: 1500, easingFunction: "easeOutQuart" } });
    });
</script>

</body>
</html>
